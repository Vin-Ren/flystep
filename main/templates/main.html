{% extends "base.html" %}
{% load static %}
{% block content %}        
  <div class="hero min-h-screen relative overflow-hidden" style="display: grid; grid-template-areas: 'stack'; place-items: center;">
    <div class="absolute inset-0 w-full h-full" style="grid-area: stack;">
      <img src="https://images.pexels.com/photos/786003/pexels-photo-786003.jpeg"
        class="w-full h-full object-cover opacity-100" />
  <div class="absolute inset-0 bg-gradient-to-b from-transparent to-black"></div>
    </div>

    <div class="text-center text-neutral-content relative z-10 bg-gradient-to-b from-transparent via-base-200/50 to-base-200" style="grid-area: stack;">
      <div class="max-w-4xl -mt-32">
        <h1 class="text-6xl font-bold mb-6 text-white drop-shadow-lg">Welcome to <span class="text-secondary drop-shadow-lg">Fly</span>step</h1>
        <p class="text-xl mb-8 text-white drop-shadow-md">Your premium destination for athletic footwear and sports gear. Step into the future of performance.</p>

        <!-- Action Buttons -->
        {% comment %} <div class="flex flex-col sm:flex-row gap-4 px-4 max-md:items-center">
          <a class="btn btn-primary btn-md max-md:w-fit" href="{% url 'main:render_create_product' %}">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
            </svg>
            Add New Product
          </a>
          <a class="btn btn-outline btn-md max-md:w-fit" href="{% url 'main:render_logout' %}">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
            </svg>
            Logout
          </a>
        </div> {% endcomment %}
      </div>
    </div>
  </div>

  <div class="bg-base-100 py-16">
    <div class="container mx-auto px-8">
      <div class="text-center mb-12">
        <h2 class="text-4xl font-bold text-base-content mb-4">Our Products</h2>
        <p class="text-lg text-base-content/70 max-w-2xl mx-auto">
          Discover our premium collection of athletic footwear designed for performance and style.
        </p>
        
        <!-- Action Buttons -->
        <div class="flex flex-wrap gap-3 justify-center mt-8">
          {% if user.is_authenticated %}
            <button class="btn btn-primary btn-lg" onclick="showCreateProductModal()">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4" />
              </svg>
              Add New Product
            </button>
          {% endif %}
          <button class="btn btn-outline btn-lg" onclick="refreshProducts()">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
            </svg>
            Refresh Products
          </button>
        </div>

        <!-- Filter Buttons -->
        {% if user.is_authenticated %}
        <div class="flex flex-wrap gap-2 justify-center mt-4">
          <button class="btn btn-sm btn-active" id="filter-all" onclick="setFilter('all')">All Products</button>
          <button class="btn btn-sm" id="filter-mine" onclick="setFilter('mine')">My Products</button>
        </div>
        {% endif %}
      </div>
      
      <!-- Products Container -->
      <div id="products-container" class="flex flex-wrap gap-4 justify-center">
        <!-- Products will be loaded here via AJAX -->
      </div>
    </div>
  </div>

  {% include "scripts/products_main.html" %}
{% endblock content %}

{% block footer %}
  <div>
    <p>{{ person.name }} | {{ person.npm }} | {{ person.class }} | Last login: {{ person.last_login }}</p>
  </div>
{% endblock footer %}
